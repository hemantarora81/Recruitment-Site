"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[841],{636:(e,a,r)=>{r.d(a,{A:()=>t});r(43);var s=r(579);const t=e=>{let{message:a,type:r}=e;if(!a)return null;return(0,s.jsxs)("div",{className:`flex items-center p-4  text-sm border rounded-lg ${{success:"text-green-800 border-green-300 bg-green-50 dark:bg-gray-800 dark:text-green-400 dark:border-green-800",error:"text-red-800 border-red-300 bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800"}[r]}`,role:"alert",children:[(0,s.jsx)("svg",{className:"flex-shrink-0 inline w-4 h-4 mr-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),(0,s.jsx)("span",{className:"sr-only",children:"Info"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"font-medium",children:["  ",r?"success"===r?"Success!":"Error!":""]})," ",a]})]})}},841:(e,a,r)=>{r.r(a),r.d(a,{default:()=>o});var s=r(43),t=r(213),l=r(216),n=r(636),i=r(579);const o=()=>{const e=(0,l.Zp)(),[a,r]=(0,s.useState)(""),[o,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(""),[m,p]=(0,s.useState)(!1),[h,g]=(0,s.useState)({fullName:"",mobileNumber:"",email:"",password:""}),v=e=>{const{name:a,value:r}=e.target;"mobileNumber"===a&&r.length>10||g({...h,[e.target.name]:e.target.value})};return(0,i.jsx)("div",{className:"container-custom p-3",children:(0,i.jsxs)("div",{className:"form-box",children:[(0,i.jsxs)("div",{className:"form",children:[(0,i.jsx)("span",{className:"title",children:m?"Login":"Sign up"}),(0,i.jsx)("span",{className:"subtitle",children:!m&&"Create a free account with your email."}),a&&(0,i.jsx)(n.A,{message:a,type:c}),(0,i.jsxs)("div",{className:"form-container",children:[!m&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{type:"text",className:"input",placeholder:"Full Name*",name:"fullName",value:h.fullName,onChange:v,required:!0}),(0,i.jsx)("input",{type:"number",className:"input",placeholder:"Mobile Number*",name:"mobileNumber",value:h.mobileNumber,onChange:v,required:!0})]}),(0,i.jsx)("input",{type:"email",className:"input",placeholder:"Email*",name:"email",value:h.email,onChange:v,required:!0}),(0,i.jsx)("input",{type:"password",className:"input",placeholder:"Password*",name:"password",value:h.password,onChange:v,required:!0})]}),o?(0,i.jsxs)("button",{className:"flex justify-center gap-1 text-sm w-full place-items-center bg-blue-500 text-white rounded-lg p-2",children:[(0,i.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),m?"Loading...":"Creating Account..."]}):(0,i.jsx)("button",{onClick:a=>(async a=>{a.preventDefault();const s=m?"https://recruitment-site.vercel.app/api/login":"https://recruitment-site.vercel.app/api/register",l=m?{email:h.email,password:h.password}:{fullName:h.fullName,mobileNumber:h.mobileNumber,email:h.email,password:h.password};if(n=h.email,!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n.toLowerCase()))return r("Please enter a valid email address."),void u("error");var n,i,o,c;if(!m){if(!((c=h.fullName).trim().length>0&&/^[A-Za-z\s]+$/.test(c)))return r("Please enter a valid full name."),void u("error");if(o=h.mobileNumber,!/^[0-9]{10}$/.test(o))return r("Please enter a valid 10-digit mobile number."),void u("error");if(i=h.password,!/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/.test(i))return r("Password must be at least 8 characters long, and include one uppercase letter, one lowercase letter, one number, and one special character."),void u("error")}d(!0),r("");try{const a=await(0,t.A)({method:"POST",url:s,data:l,headers:{"Content-Type":"application/json"}});var v,b;if(200===a.status)d(!1),r(a.data.msg||(m?"Login Successfully":"Account Created Successfully")),u("success"),m&&(localStorage.setItem("token",null===a||void 0===a||null===(v=a.data)||void 0===v?void 0:v.token),localStorage.setItem("user_id",null===a||void 0===a||null===(b=a.data)||void 0===b?void 0:b.user._id),localStorage.setItem("isLogin",!0)),g({fullName:"",mobileNumber:"",email:"",password:""}),m?e("/hr-dashboard"):(p(!0),r("Please Login with credentials"))}catch(w){var x,f;r((null===(x=w.response)||void 0===x||null===(f=x.data)||void 0===f?void 0:f.msg)||"Something went wrong, please try again."),u("error"),d(!1)}})(a),className:"w-full p-2 mt-3 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:m?"Login":"Sign up"})]}),(0,i.jsx)("div",{className:"form-section",children:(0,i.jsxs)("p",{children:[m?"Don't have an account?":"Have an account?"," ",(0,i.jsx)("b",{onClick:()=>p(!m),className:"cursor-pointer",children:m?"Sign Up":"Log in"})]})})]})})}}}]);
//# sourceMappingURL=841.187cc520.chunk.js.map
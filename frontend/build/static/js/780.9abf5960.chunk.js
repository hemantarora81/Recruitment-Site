"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[780],{527:(e,a,r)=>{r.d(a,{A:()=>t});r(950);var s=r(414);const t=e=>{let{message:a,type:r}=e;if(!a)return null;return(0,s.jsxs)("div",{className:`flex items-center p-4  text-sm border rounded-lg ${{success:"text-green-800 border-green-300 bg-green-50 dark:bg-gray-800 dark:text-green-400 dark:border-green-800",error:"text-red-800 border-red-300 bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800"}[r]}`,role:"alert",children:[(0,s.jsx)("svg",{className:"flex-shrink-0 inline w-4 h-4 mr-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),(0,s.jsx)("span",{className:"sr-only",children:"Info"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"font-medium",children:["  ",r?"success"===r?"Success!":"Error!":""]})," ",a]})]})}},780:(e,a,r)=>{r.r(a),r.d(a,{default:()=>o});var s=r(950),t=r(246),l=r(429),n=r(527),i=r(414);const o=()=>{const e=(0,l.Zp)(),[a,r]=(0,s.useState)(""),[o,d]=(0,s.useState)(""),[c,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1),[g,h]=(0,s.useState)({fullName:"",mobileNumber:"",email:"",password:""}),v=e=>{const{name:a,value:r}=e.target;"mobileNumber"===a&&r.length>10||h({...g,[e.target.name]:e.target.value})};return(0,i.jsx)("div",{className:"container-custom p-3",children:(0,i.jsxs)("div",{className:"form-box",children:[(0,i.jsxs)("div",{className:"form",children:[(0,i.jsx)("span",{className:"title",children:m?"Login":"Sign up"}),(0,i.jsx)("span",{className:"subtitle",children:!m&&"Create a free account with your email."}),a&&(0,i.jsx)(n.A,{message:a,type:o}),(0,i.jsxs)("div",{className:"form-container",children:[!m&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{type:"text",className:"input",placeholder:"Full Name*",name:"fullName",value:g.fullName,onChange:v,required:!0}),(0,i.jsx)("input",{type:"number",className:"input",placeholder:"Mobile Number*",name:"mobileNumber",value:g.mobileNumber,onChange:v,required:!0})]}),(0,i.jsx)("input",{type:"email",className:"input",placeholder:"Email*",name:"email",value:g.email,onChange:v,required:!0}),(0,i.jsx)("input",{type:"password",className:"input",placeholder:"Password*",name:"password",value:g.password,onChange:v,required:!0})]}),c?(0,i.jsxs)("button",{className:"flex justify-center gap-1 text-sm w-full place-items-center bg-blue-500 text-white rounded-lg p-2",children:[(0,i.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),m?"Loading...":"Creating Account..."]}):(0,i.jsx)("button",{onClick:a=>(async a=>{a.preventDefault();const s=m?"/login":"/register",l=m?{email:g.email,password:g.password}:{fullName:g.fullName,mobileNumber:g.mobileNumber,email:g.email,password:g.password};if(n=g.email,!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n.toLowerCase()))return r("Please enter a valid email address."),void d("error");var n,i,o,c;if(!m){if(!((c=g.fullName).trim().length>0&&/^[A-Za-z\s]+$/.test(c)))return r("Please enter a valid full name."),void d("error");if(o=g.mobileNumber,!/^[0-9]{10}$/.test(o))return r("Please enter a valid 10-digit mobile number."),void d("error");if(i=g.password,!/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/.test(i))return r("Password must be at least 8 characters long, and include one uppercase letter, one lowercase letter, one number, and one special character."),void d("error")}u(!0),r("");try{const a=await(0,t.A)({method:"POST",url:s,data:l,headers:{"Content-Type":"application/json"}});var v,b;if(200===a.status)u(!1),r(a.data.msg||(m?"Login Successfully":"Account Created Successfully")),d("success"),m&&(localStorage.setItem("token",null===a||void 0===a||null===(v=a.data)||void 0===v?void 0:v.token),localStorage.setItem("user_id",null===a||void 0===a||null===(b=a.data)||void 0===b?void 0:b.user._id),localStorage.setItem("isLogin",!0)),h({fullName:"",mobileNumber:"",email:"",password:""}),m?e("/hr-dashboard"):(p(!0),r("Please Login with credentials"))}catch(w){var x,f;r((null===(x=w.response)||void 0===x||null===(f=x.data)||void 0===f?void 0:f.msg)||"Something went wrong, please try again."),d("error"),u(!1)}})(a),className:"w-full p-2 mt-3 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:m?"Login":"Sign up"})]}),(0,i.jsx)("div",{className:"form-section",children:(0,i.jsxs)("p",{children:[m?"Don't have an account?":"Have an account?"," ",(0,i.jsx)("b",{onClick:()=>p(!m),className:"cursor-pointer",children:m?"Sign Up":"Log in"})]})})]})})}}}]);